<!-- <div class="container">
    <h2>Toggleable Tabs</h2>
    <br>
     Nav tabs 
    <ul class="nav nav-tabs" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" data-toggle="tab" href="#home">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" role="tab" data-toggle="tab" href="#menu1">Menu 1</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#menu2">Menu 2</a>
      </li>
    </ul>
  
     Tab panes
    <div class="tab-content">
      <div id="home" class="container tab-pane active"><br>
        <h3>HOME</h3>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      </div>
      <div id="menu1" role="tabpanel" class="container tab-pane "><br>
        <h3>Menu 1</h3>
        <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      </div>
      <div id="menu2" class="container tab-pane "><br>
        <h3>Menu 2</h3>
        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
      </div>
    </div>
  </div> -->
<div>
    <h2>
        <span jhiTranslate="lmsApp.leaveApplication.home.title">Leave Applications</span>

        <button class="btn btn-primary" (click)="exportExcel()"> <span > Export to Excel </span>  </button>                    
        <button *ngIf="currentAccount && currentAccount.login != 'admin'" class="btn btn-primary float-right jh-create-entity create-leave-application" [routerLink]="['/', { outlets: { popup: ['leave-application-new'] } }]">
            <span class="fa fa-plus"></span>
            <span  jhiTranslate="lmsApp.leaveApplication.home.createLabel">
            Create new Leave Application
            </span>
        </button>
    </h2>

     <ul *ngIf="currentAccount && employee && currentAccount.login != 'admin' && employee.post != 'FACULTY' && employee.post != 'LDC' && employee.post != 'UDC'" class="nav nav-tabs">
     
        <li class="nav-item" >
          <a class="nav-link " (click)="ngOnInit('PENDDING')">Pandding</a>
        </li>
        <li class="nav-item" >
          <a class="nav-link" (click)="ngOnInit('APPROVED')">Approved/Rejected</a>
        </li>
        <li *ngIf="employee.post != 'CHANCELLOR'" class="nav-item">
          <a  class="nav-link" (click)="ngOnInit('APPLIED')">Your Leave</a>
        </li>
        <li *ngIf="employee.post != 'CHANCELLOR'" class="nav-item" >
            <a class="nav-link " (click)="ngOnInit('Forward')">Fowarded</a>
          </li>
      </ul>  
    <jhi-alert></jhi-alert>
    <div class="row">
    </div>
    <br/>
    <div class="table-responsive" *ngIf="leaveApplications">
        <table class="table table-striped">
            <thead>
            <tr>
            <!-- <th><span jhiTranslate="global.field.id">ID</span></th> -->
            <th><span jhiTranslate="lmsApp.leaveApplication.employee">Employee</span></th>
            <th><span jhiTranslate="lmsApp.leaveApplication.reason">Reason</span></th>
            <th><span jhiTranslate="lmsApp.leaveApplication.fromDate">From Date</span></th>
            <th><span jhiTranslate="lmsApp.leaveApplication.toDate">To Date</span></th>
            <th><span jhiTranslate="lmsApp.leaveApplication.noofday">Noofday</span></th>
            <th><span jhiTranslate="lmsApp.leaveApplication.status">Status</span></th>
            <!-- <th><span jhiTranslate="lmsApp.leaveApplication.status">Status</span></th>
            <th><span jhiTranslate="lmsApp.leaveApplication.status">Status</span></th> -->
            <!-- <th><span jhiTranslate="lmsApp.leaveApplication.flowStatus">Flow Status</span></th>
            <th><span jhiTranslate="lmsApp.leaveApplication.comment">Comment</span></th> -->
            
            <th><span jhiTranslate="lmsApp.leaveApplication.approvedBy">Approved By</span></th>
            <th><span>Leave Type</span></th>
            <th><span >Join leave</span></th>
            <th><span >Join leave Day </span></th>
            <th></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let leaveApplication of leaveApplications ;trackBy: trackId">
                <!-- <td><a [routerLink]="['../leave-application', leaveApplication.id ]">{{leaveApplication.id}}</a></td> -->
                 <td>
                    <div *ngIf="leaveApplication.employee.id == employee.id">
                        <a [routerLink]="['../employee', leaveApplication.employee?.id ]" >Me</a>
                    </div>
                    <div *ngIf="leaveApplication.employee.id != employee.id">
                            <a [routerLink]="['../employee', leaveApplication.employee?.id ]" >{{leaveApplication.employee.user.login}}</a>
                        </div>
                </td>
                <td>{{leaveApplication.reason}}</td>
                <td>{{leaveApplication.fromDate | date:'mediumDate'}}</td>
                <td>{{leaveApplication.toDate | date:'mediumDate'}}</td>
                <td>{{leaveApplication.noofday}}</td>
                <td  *ngIf="leaveApplication.status == 'APPLIED'"><span class="badge badge-primary">{{leaveApplication.status}}</span></td>
                <td  *ngIf="leaveApplication.status == 'APPROVED'" ><span  class="badge badge-success" >{{leaveApplication.status}}</span></td>
                <td  *ngIf="leaveApplication.status == 'REJECTED'"><span  class="badge badge-danger">{{leaveApplication.status}}</span></td>
                <!-- <td>{{leaveApplication.flowStatus}}</td>
                <td>{{leaveApplication.comment}}</td> -->
               
                <td>
                    <div *ngIf="leaveApplication.approvedBy">
                        <a [routerLink]="['../employee', leaveApplication.approvedBy?.id ]" >{{leaveApplication.approvedBy?.post}}, {{leaveApplication.approvedBy?.firstName}}</a>
                    </div>
                </td>
                <td>
                    <div *ngIf="leaveApplication.leaveType">
                        <a [routerLink]="['../leave-type', leaveApplication.leaveType?.id ]" >{{leaveApplication.leaveType?.code}}</a>
                    </div>  
                </td>
                <td>{{leaveApplication.joinLeave}}</td>
                <td>{{leaveApplication.joinLeaveDay}}</td>
                <td class="text-right">
                    <div class="btn-group flex-btn-group-container">
                        <button type="submit"
                                [routerLink]="['../leave-application', leaveApplication.id ]"
                                class="btn btn-info btn-sm">
                            <span class="fa fa-eye"></span>
                            <span class="d-none d-md-inline" jhiTranslate="entity.action.view">View</span>
                        </button>
                        <button *ngIf="currentAccount.login != 'admin' && leaveApplication.employee.user.login == currentAccount.login && leaveApplication.status != 'REJECTED' && leaveApplication.status != 'APPROVED'" type="submit"
                                [routerLink]="['/', { outlets: { popup: 'leave-application/'+ leaveApplication.id + '/edit'} }]"
                                replaceUrl="true"
                                queryParamsHandling="merge"
                                class="btn btn-primary btn-sm">
                            <span class="fa fa-pencil"></span>
                            <span class="d-none d-md-inline" jhiTranslate="entity.action.edit">Edit</span>
                        </button>
                        <button *ngIf=" currentAccount.login != 'admin' && leaveApplication.employee.user.login == currentAccount.login && leaveApplication.status != 'REJECTED' && leaveApplication.status != 'APPROVED'"  type="submit"
                                [routerLink]="['/', { outlets: { popup: 'leave-application/'+ leaveApplication.id + '/delete'} }]"
                                replaceUrl="true"
                                queryParamsHandling="merge"
                                class="btn btn-danger btn-sm">
                            <span class="fa fa-remove"></span>
                            <span class="d-none d-md-inline">Cancel</span>
                        </button>
                    </div>
                </td>
                
            </tr>
            </tbody>
        </table>
    </div>
</div>
